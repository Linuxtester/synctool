#
#	synctool.conf
#

masterdir /var/lib/synctool
symlink_mode 0755
ignore_dotfiles no
ignore_dotdirs yes
ignore .svn
logfile /var/log/synctool.log

# configure external commands that synctool uses
diff_cmd /usr/bin/diff -u
ssh_cmd /usr/bin/ssh -o ConnectTimeout=10 -q
scp_cmd /usr/bin/scp -o ConnectTimeout=10 -p
rsync_cmd /usr/bin/rsync -ar --delete -e 'ssh -o ConnectTimeout=10 -q'
synctool_cmd /opt/synctool/sbin/synctool.py -c /var/lib/synctool/synctool.conf

# max amount of parallel processes that synctool_master and synctool-ssh use
num_proc 64

# compound groups may be specified like this
group wn workernode batch
group test wn
group g1 batch test wn

#
# list all nodes and their groups
# the nodename is a logical name known only to synctool
# "interface:" specifies the (short) address where synctool connects to
#
node node0 master all

node node1 fs sched interface:node1-mgmt
node node2 login interface:node2-mgmt
node node3 wn interface:node3-mgmt
node node4 wn interface:node4-mgmt
node node5 wn interface:node5-mgmt
node node6 wn interface:node6-mgmt
node node7 wn interface:node7-mgmt
node node8 test interface:node8-mgmt
node node9 batch all interface:node9-mgmt

ignore_node node0

ignore_node node9 any_arguments_here_are_ignored batch test
ignore_group test test2

#
#	run command when dir entry gets updated
#
on_update	/etc/aliases					/usr/bin/newaliases
on_update	/etc/ssh/sshd_config			/etc/init.d/ssh reload
on_update	/etc/syslog-ng/syslog-ng.conf	/etc/init.d/syslog-ng reload
on_update	/etc/crontab					/etc/init.d/cron reload
on_update	/etc/ntp.conf					/etc/init.d/ntpd reload

on_update	/etc/logrotate.d				/bin/rm -f /etc/logrotate.d/*.saved
on_update	/etc/cron.d						/bin/rm -f /etc/cron.d/*.saved
on_update	/etc/cron.daily					/bin/rm -f /etc/cron.daily/*.saved

# always_run /bin/date

# EOB
